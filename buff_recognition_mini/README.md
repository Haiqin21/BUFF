# buff_recognition_mini


***

## 目录

* 识别原理
* 依赖环境
* 后续开发

***

## 识别原理

> 参考对象仅为旧版能量机关，新版能量机关装甲板拥有不闭合轮廓，无法按照现有代码识别

旧版大小能量机关拥有至少1个闭合轮廓，可以依据各个扇叶轮廓所包含的闭合子轮廓数量来判别待击打扇叶的装甲板

具体的，利用`OpenCV`的`findContours()`函数查找轮廓，遍历所有已检测到的轮廓，判断是否拥有父轮廓并对其父轮廓进行计数。新建一个数组，索引为父轮廓对应的数字，遍历这个数组，寻找值为1的元素，该元素即为击打目标。

## 依赖环境

| 软件类型 |         型号版本          |
| :------: | :-----------------------: |
|    OS    | Windows 10 / Ubuntu 18.04 |
|   IDE    |     Qt Creator-5.14.2     |
| Library  |       OpenCV-4.1.1        |

## 后续开发

进一步封装现有代码，改进算法以适配2023赛季新版能量机关

## TODO

- [x] 小能量机关识别
  - [x] 图像预处理
  - [x] 查找轮廓并记录轮廓数量
  - [x] 识别击打目标
  - [x] 输出绘制
- [ ] 小能量机关击打
- [ ] 大能量机关识别
  - [ ] 弹道下坠修正
  - [ ] 转速修正
  - [ ] 提前量调整
- [ ] 大能量机关击打
